{"ast":null,"code":"var _jsxFileName = \"/home/aqueebj/Documents/SEM 2/SPE/google-forms/google-forms/src/Components/Login.js\";\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport authService from '../services/authService';\nimport { useHistory } from \"react-router-dom\";\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport GoogleButton from 'react-google-button';\nimport Avatar from \"@material-ui/core/Avatar\";\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    marginRight: theme.spacing(1)\n  },\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  }\n}));\nconst CLIENT_ID = \"42740897671-m5anco0if9iveruco1hid942ikicsjre.apps.googleusercontent.com\";\n\nfunction Login(props) {\n  const classes = useStyles();\n  let history = useHistory();\n  const [isLogined, setIsLogined] = React.useState(false);\n  const {\n    from\n  } = props.location.state || {\n    from: {\n      pathname: '/'\n    }\n  };\n  React.useEffect(() => {\n    setIsLogined(authService.isAuthenticated());\n  }, []);\n\n  const loginGoogle = response => {\n    console.log(response);\n    authService.loginWithGoogle(response).then(() => {\n      console.log(from.pathname);\n\n      if (from.pathname === \"/login\") {\n        history.push(\"/\");\n      } else {\n        history.push(from.pathname);\n      }\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      console.log(resMessage);\n    });\n  };\n\n  const loginAsGuest = () => {\n    authService.loginAsGuest();\n    history.push(from.pathname);\n  };\n\n  const handleLoginFailure = response => {\n    console.log('Failed to log in');\n  };\n\n  const handleLogoutFailure = response => {\n    console.log('Failed to log out');\n  };\n\n  const logout = response => {\n    authService.logout();\n    setIsLogined(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 14\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexGrow: 1,\n      textAlign: 'start'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"relative\",\n    style: {\n      backgroundColor: 'teal'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ViewListIcon, {\n    className: classes.icon,\n    onClick: () => {\n      history.push('/');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    color: \"inherit\",\n    noWrap: true,\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Survey Forms\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, isLogined ? \"\" : /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: CLIENT_ID,\n    render: renderProps => /*#__PURE__*/React.createElement(GoogleButton, {\n      onClick: renderProps.onClick,\n      style: {\n        textAlign: 'center',\n        alignSelf: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }),\n    buttonText: \"Login\",\n    onSuccess: loginGoogle,\n    onFailure: handleLoginFailure,\n    cookiePolicy: 'single_host_origin',\n    responseType: \"code,token\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/aqueebj/Documents/SEM 2/SPE/google-forms/google-forms/src/Components/Login.js"],"names":["GoogleLogin","GoogleLogout","authService","useHistory","React","AppBar","Button","CssBaseline","Grid","Toolbar","Typography","makeStyles","ViewListIcon","GoogleButton","Avatar","useStyles","theme","icon","marginRight","spacing","root","flexGrow","menuButton","title","CLIENT_ID","Login","props","classes","history","isLogined","setIsLogined","useState","from","location","state","pathname","useEffect","isAuthenticated","loginGoogle","response","console","log","loginWithGoogle","then","push","error","resMessage","data","message","toString","loginAsGuest","handleLoginFailure","handleLogoutFailure","logout","display","textAlign","backgroundColor","flexDirection","justifyContent","renderProps","onClick","alignSelf"],"mappings":"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","sourcesContent":["import { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport authService from '../services/authService';\nimport { useHistory } from \"react-router-dom\";\nimport React from 'react';\n\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ViewListIcon from '@material-ui/icons/ViewList';\n\nimport GoogleButton from 'react-google-button'\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst useStyles = makeStyles((theme) => ({\n    icon: {\n      marginRight: theme.spacing(1),\n    },\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n\nconst CLIENT_ID = \"42740897671-m5anco0if9iveruco1hid942ikicsjre.apps.googleusercontent.com\";\n\nfunction Login(props){\n    const classes = useStyles();\n    let history = useHistory();\n    const [isLogined , setIsLogined] = React.useState(false);\n    const { from } = props.location.state || { from: { pathname: '/' } }\n    \n    React.useEffect(()=>{\n        setIsLogined(authService.isAuthenticated())\n    }, [])\n\n    const loginGoogle = (response)=>{\n        console.log(response);\n        authService.loginWithGoogle(response)\n        .then(() => {\n          console.log(from.pathname);\n          \n          if(from.pathname === \"/login\"){\n            history.push(\"/\");\n\n          }else{\n            history.push(from.pathname);\n          }\n          },\n          error => {\n            const resMessage =\n              (error.response &&\n                error.response.data &&\n                error.response.data.message) ||\n              error.message ||\n              error.toString();\n            console.log(resMessage);\n          }      \n          );\n    }\n\n    const loginAsGuest = ()=>{\n        authService.loginAsGuest()\n        history.push(from.pathname);\n    }\n\n    const handleLoginFailure = (response)=>{\n        console.log('Failed to log in');\n    }\n    \n    const handleLogoutFailure = (response)=>{\n        console.log('Failed to log out');\n    }\n\n    const logout = (response)=>{\n        authService.logout();\n        setIsLogined(false);\n      }\n\n\n    return(\n        <div>\n             <CssBaseline />\n            <div style={{display: 'flex', flexGrow: 1, textAlign: 'start'}}>\n                <AppBar position=\"relative\" style={{backgroundColor: 'teal'}}>\n                <Toolbar>\n                    <ViewListIcon className={classes.icon} onClick={()=>{history.push('/')}} />\n                   \n                    <Typography variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n                    Survey Forms\n                    </Typography>\n                </Toolbar>\n                </AppBar>\n            </div>\n        <br></br>\n            <main>\n            <Typography component=\"h1\" variant=\"h5\">\n                Login\n                </Typography>\n        <br></br>\n        <br></br>\n\n            <div style={{display: 'flex', flexDirection: 'column', justifyContent: 'center'}}>\n            {isLogined ?\n                \"\": \n                <GoogleLogin\n                    clientId={CLIENT_ID}\n                    render={renderProps => (\n                        <GoogleButton onClick={renderProps.onClick} style={{textAlign: 'center', alignSelf: 'center'}} />\n                      )}\n                    buttonText='Login'\n                    onSuccess={loginGoogle}\n                    onFailure={handleLoginFailure}\n                    cookiePolicy={ 'single_host_origin' }\n                    responseType='code,token'\n                />\n            }\n            <br></br>\n            <br></br>\n            {/*<div>*/}\n            {/*   {  isLogined ? (<div>*/}\n            {/*                    <p>Already logged in. Want to logout?</p>*/}\n            {/*                    <button onClick={logout}>Logout </button>*/}\n            {/*                </div>) : (*/}\n            {/*               <Button*/}\n            {/*                onClick={loginAsGuest}*/}\n            {/*                variant=\"contained\"*/}\n            {/*                style={{textTransform: \"none\"}}*/}\n            {/*                startIcon={<Avatar  src={\"https://static.thenounproject.com/png/3244607-200.png\"}/>  } >*/}\n            {/*                Login as Guest(Anonymous)*/}\n            {/*            </Button>*/}\n            {/*       )*/}\n            {/*   }*/}\n            {/*</div>*/}\n        </div>\n                \n            </main>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}